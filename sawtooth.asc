Version 4
SHEET 1 2100 680
WIRE 2032 -128 912 -128
WIRE 1168 -80 1152 -80
WIRE 1184 -80 1168 -80
WIRE 1296 -80 1264 -80
WIRE 1296 -48 1296 -80
WIRE 736 16 736 -176
WIRE 512 64 400 64
WIRE 672 64 592 64
WIRE 2032 64 2032 -128
WIRE 1168 80 1168 -80
WIRE 1328 80 1168 80
WIRE 1472 96 1392 96
WIRE 400 112 400 64
WIRE 1328 112 1024 112
WIRE 1856 112 1856 96
WIRE 1968 112 1856 112
WIRE 1472 160 1472 96
WIRE 1552 160 1472 160
WIRE 1680 160 1648 160
WIRE 1856 160 1856 112
WIRE 736 192 736 112
WIRE 768 192 736 192
WIRE 912 192 912 -128
WIRE 912 192 768 192
WIRE 1024 192 1024 112
WIRE 1024 192 912 192
WIRE 1552 208 1472 208
WIRE 1792 208 1664 208
WIRE 2032 208 2032 160
WIRE 912 240 912 192
WIRE 1024 240 1024 192
WIRE 1328 240 1024 240
WIRE 768 256 768 192
WIRE 1472 256 1472 208
WIRE 1472 256 1392 256
WIRE 1328 272 1168 272
WIRE 1856 304 1856 256
WIRE 1168 336 1168 272
WIRE 1168 336 1152 336
WIRE 1184 336 1168 336
WIRE 1296 336 1264 336
WIRE 912 352 912 304
WIRE 1296 368 1296 336
FLAG 240 -64 0
FLAG 240 -144 vcc
FLAG 736 -176 vcc
FLAG 400 112 0
FLAG 912 352 0
FLAG 1360 64 vcc
FLAG 1360 224 vcc
FLAG 1360 128 0
FLAG 1360 288 0
FLAG 2032 208 0
FLAG 1072 -80 vcc
FLAG 1296 -48 0
FLAG 1856 304 0
FLAG 1856 16 vcc
FLAG 1072 336 vcc
FLAG 1296 368 0
FLAG 768 256 Vout
SYMBOL voltage 240 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 10v
SYMBOL res 608 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 20k
SYMBOL pnp 672 112 M180
SYMATTR InstName Q2
SYMATTR Value 2N2907
SYMBOL cap 896 240 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL Digital\\srflop 1600 112 R0
SYMATTR InstName A1
SYMBOL Comparators\\LT1721 1360 32 R0
SYMATTR InstName U1
SYMBOL Comparators\\LT1721 1360 192 R0
SYMATTR InstName U2
SYMBOL npn 1968 64 R0
SYMATTR InstName Q1
SYMBOL res 1168 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 1280 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 9k
SYMBOL npn 1792 160 R0
SYMATTR InstName Q3
SYMBOL res 1840 0 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL res 1168 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 9k
SYMBOL res 1280 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
TEXT 208 120 Left 2 !.tran 10m uic
TEXT 432 -232 Left 2 ;Constant current source
TEXT 968 -224 Left 2 ;Comparators checking higher and lower boundary\nof charging capacitor
TEXT 1208 8 Left 2 ;SET if CAP voltage above 9/10 Vcc
TEXT 1248 312 Left 2 ;RESET if CAP voltage below 1/10 Vcc
TEXT 1824 -232 Left 2 ;Rapid discharge
RECTANGLE Normal 752 224 368 -256 1
RECTANGLE Normal 1712 416 848 -256 1
RECTANGLE Normal 2096 416 1744 -256 1
